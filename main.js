!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button_inactive",inputErrorClass:"modal__input-error",errorClass:"modal__error",inputErrorTypeClass:"modal__input-error_type"},t=(e,t,r)=>{const o=e.querySelector(`#${t.id}-error`);t.classList.remove(r.inputErrorTypeClass),o.textContent=""},r=(e,t,r)=>{(e=>e.some((e=>!e.validity.valid)))(e)?o(t,r):(t.disabled=!1,t.classList.remove(r.inactiveButtonClass))},o=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)},n=e=>{document.querySelectorAll(e.formSelector).forEach((n=>{((e,n)=>{const a=Array.from(e.querySelectorAll(n.inputSelector)),s=e.querySelector(n.submitButtonSelector);r(a,s,n),e.addEventListener("reset",(()=>{o(s,n)})),a.forEach((o=>{o.addEventListener("input",(function(){((e,r,o)=>{r.validity.valid?t(e,r,o):((e,t,r,o)=>{const n=e.querySelector(`#${t.id}-error`);t.classList.add(o.inputErrorTypeClass),n.textContent=r})(e,r,r.validationMessage,o)})(e,o,n),r(a,s,n)}))}))})(n,e)}))};function a(e,t,r="Save",o="Saving..."){e.textContent=t?o:r}n(e),document.querySelectorAll(".modal__form"),document.querySelectorAll(".modal__input");const s=document.querySelector(".profile__edit-button"),c=document.querySelector("#edit-modal"),l=(document.querySelector(".modal__close-button"),c.querySelector(".modal__form")),i=document.querySelector(".profile__name"),d=document.querySelector(".profile__description"),u=document.querySelector("#profile-name-input"),m=document.querySelector("#profile-description-input"),_=document.querySelector("#edit-avatar-modal"),h=document.querySelector(".profile__avatar_edit-button "),f=_.querySelector(".modal__form"),p=_.querySelector("#avatar-image-link-input"),y=(_.querySelector(".modal__save-button"),document.querySelector(".profile__avatar")),v=document.querySelector("#delete-modal"),S=v.querySelector(".modal__form"),b=(v.querySelector(".modal__delete-button"),v.querySelector(".modal__cancel-button")),q=document.querySelector("#card-template"),k=document.querySelector(".cards__list"),E=document.querySelector("#preview-modal"),L=E.querySelector(".modal__image"),C=E.querySelector(".modal__image-caption"),g=document.querySelector(".profile__add-button"),U=document.querySelector("#post-modal"),x=U.querySelector(".modal__form"),$=(U.querySelector(".modal__close-button"),U.querySelector("#image-link-input")),A=U.querySelector("#image-caption-input"),I=document.querySelectorAll(".modal__close-button"),P=(U.querySelector(".modal__save-button"),document.querySelector(".profile__edit-button"),document.querySelector(".profile__add-button"),new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}getAppInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._checkResponse)}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error ${e.status}`)}editUserInfo({name:e,about:t}){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkResponse)}addNewCard({name:e,link:t}){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._checkResponse)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._checkResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}handleLikeStatus(e,t){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:this._headers}).then(this._checkResponse)}updateProfilePicture({avatar:e}){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"e4071923-f260-4276-b71a-355251644adf","Content-Type":"application/json"}}));function T(e,t="prepend"){const r=function(e){const t=q.content.querySelector(".card").cloneNode(!0),r=t.querySelector(".card__text"),o=t.querySelector(".card__image"),n=t.querySelector(".card__like-button"),a=t.querySelector(".card__delete-button");return r.textContent=e.name,o.src=e.link,o.alt=e.name,e.isLiked&&n.classList.add("card__like-button_liked"),a.addEventListener("click",(()=>function(e,t){R=e,N=t,w(v)}(t,e._id))),n.addEventListener("click",(t=>{!function(e,t){let r=e.target.classList.contains("card__like-button_liked");P.handleLikeStatus(t,r).then((()=>{e.target.classList.toggle("card__like-button_liked")})).catch(console.error)}(t,e._id)})),o.addEventListener("click",(()=>{w(E),L.src=e.link,L.alt=e.name,C.textContent=e.name})),t}(e);k[t](r)}function D(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",B),e.removeEventListener("mousedown",O)}function w(e){e.classList.add("modal_opened"),document.addEventListener("keydown",B),e.addEventListener("mousedown",O)}let R,N;function B(e){if("Escape"===e.key){const e=document.querySelector(".modal_opened");e&&D(e)}}function O(e){e.target.classList.contains("modal_opened")&&D(e.target)}P.getAppInfo().then((([e,t])=>{console.log("Initial card data:",e),P._userId=t._id,y.src=t.avatar,i.textContent=t.name,d.textContent=t.about,e.forEach((e=>{T(e)}))})).catch((e=>{console.error(e)})),I.forEach((e=>{const t=e.closest(".modal");e.addEventListener("click",(()=>D(t)))})),s.addEventListener("click",(()=>{var r,o;u.value=i.textContent,m.value=d.textContent,r=l,o=e,[u,m].forEach((e=>{t(r,e,o)})),w(c)})),b.addEventListener("click",(()=>{D(v)})),h.addEventListener("click",(()=>{w(_)})),g.addEventListener("click",(()=>{w(U)})),l.addEventListener("submit",(function(e){e.preventDefault();const t=e.submitter;a(t,!0),P.editUserInfo({name:u.value,about:m.value}).then((e=>{i.textContent=e.name,d.textContent=e.about,D(c)})).catch(console.error).finally((()=>{a(t,!1)}))})),x.addEventListener("submit",(function(e){e.preventDefault();const t=e.submitter;a(t,!0);const r={name:A.value,link:$.value};P.addNewCard(r).then((t=>{T(t),e.target.reset(),D(U)})).catch(console.error).finally((()=>{a(t,!1)}))})),f.addEventListener("submit",(function(e){e.preventDefault();const t=e.submitter;a(t,!0),P.updateProfilePicture({avatar:p.value}).then((e=>{y.src=e.avatar,D(_)})).catch(console.error).finally((()=>{a(t,!1)}))})),S.addEventListener("submit",(function(e){e.preventDefault();const t=e.submitter;a(t,!0,"Delete","Deleting..."),P.deleteCard(N).then((()=>{R.remove(),D(v)})).catch(console.error).finally((()=>{a(t,!1,"Delete")}))})),n(e)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUMsT0FDZHVCLFNBQVEsS0FDUGpILEVBQWMrRyxHQUFXLEVBQU0sR0FFckMsSUFLQTdGLEVBQVd4QixpQkFBaUIsVUF0STVCLFNBQTRCMEYsR0FDMUJBLEVBQUkwQixpQkFDSixNQUFNQyxFQUFZM0IsRUFBSTRCLFVBQ3RCaEgsRUFBYytHLEdBQVcsRUFBTSxTQUFVLGVBRXpDaEYsRUFDRzZCLFdBQVdvQixHQUNYcEMsTUFBSyxLQUNKbUMsRUFBYXhHLFNBQ2JzSCxFQUFXNUUsRUFBWSxJQUV4QnVFLE1BQU1DLFFBQVFDLE9BQ2R1QixTQUFRLEtBQ1BqSCxFQUFjK0csR0FBVyxFQUFPLFNBQVMsR0FFL0MsSUF5SEE1SCxFQUFpQjVCLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3NjcmlwdHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3V0aWxzL2hlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3V0aWxzL2FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc2F2ZS1idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zYXZlLWJ1dHRvbl9pbmFjdGl2ZVwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXQtZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvclwiLFxyXG4gIGlucHV0RXJyb3JUeXBlQ2xhc3M6IFwibW9kYWxfX2lucHV0LWVycm9yX3R5cGVcIixcclxufTtcclxuXHJcbmNvbnN0IHNob3dJbnB1dEVycm9yID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSwgY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZXJyb3JNc2dFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICk7XHJcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmlucHV0RXJyb3JUeXBlQ2xhc3MpO1xyXG5cclxuICBlcnJvck1zZ0VsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbn07XHJcblxyXG5jb25zdCBoaWRlSW5wdXRFcnJvciA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpID0+IHtcclxuICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmlucHV0RXJyb3JUeXBlQ2xhc3MpO1xyXG5cclxuICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZykgPT4ge1xyXG4gIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICBzaG93SW5wdXRFcnJvcihcclxuICAgICAgZm9ybUVsZW1lbnQsXHJcbiAgICAgIGlucHV0RWxlbWVudCxcclxuICAgICAgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlLFxyXG4gICAgICBjb25maWdcclxuICAgICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZyk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaGFzSW52YWxpZElucHV0ID0gKGlucHV0TGlzdCkgPT4ge1xyXG4gIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCByZXNldFZhbGlkYXRpb24gPSAoZm9ybUVsZW1lbnQsIGlucHV0TGlzdCwgY29uZmlnKSA9PiB7XHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXQsIGNvbmZpZyk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCB0b2dnbGVCdXR0b25TdGF0ZSA9IChpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZykgPT4ge1xyXG4gIGlmIChoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xyXG4gICAgZGlzYWJsZUJ1dHRvbihidXR0b25FbGVtZW50LCBjb25maWcpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGRpc2FibGVCdXR0b24gPSAoYnV0dG9uRWxlbWVudCwgY29uZmlnKSA9PiB7XHJcbiAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxufTtcclxuXHJcbmNvbnN0IHNldEV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbGVtZW50LCBjb25maWcpID0+IHtcclxuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcilcclxuICApO1xyXG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcblxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcclxuXHJcbiAgZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsICgpID0+IHtcclxuICAgIGRpc2FibGVCdXR0b24oYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcclxuICB9KTtcclxuXHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpO1xyXG4gICAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKTtcclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsZW1lbnQsIGNvbmZpZyk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTsiLCJleHBvcnQgZnVuY3Rpb24gc2V0QnV0dG9uVGV4dChcclxuICBidG4sXHJcbiAgaXNMb2FkaW5nLFxyXG4gIGRlZmF1bHRUZXh0ID0gXCJTYXZlXCIsXHJcbiAgbG9hZGluZ1RleHQgPSBcIlNhdmluZy4uLlwiXHJcbikge1xyXG4gIGlmIChpc0xvYWRpbmcpIHtcclxuICAgIGJ0bi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidG4udGV4dENvbnRlbnQgPSBkZWZhdWx0VGV4dDtcclxuICB9XHJcbn0iLCIvL2ltcG9ydHNcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vdXRpbHMvYXBpLmpzXCI7XHJcbmltcG9ydCBcIi4uL3ZlbmRvci9ub3JtYWxpemUuY3NzXCI7XHJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCB7XHJcbiAgZW5hYmxlVmFsaWRhdGlvbixcclxuICBzZXR0aW5ncyxcclxuICByZXNldFZhbGlkYXRpb24sXHJcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGlvbi5qc1wiO1xyXG5pbXBvcnQgeyBzZXRCdXR0b25UZXh0IH0gZnJvbSBcIi4uL3V0aWxzL2hlbHBlcnMuanNcIjtcclxuXHJcbi8vbW9kYWxcclxuY29uc3QgbW9kYWxGb3JtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2Zvcm1cIik7XHJcbmNvbnN0IG1vZGFsSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XHJcblxyXG4vL3Byb2ZpbGUgbW9kYWxcclxuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBlZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtbW9kYWxcIik7XHJcbmNvbnN0IHByb2ZpbGVDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiKTtcclxuY29uc3QgcHJvZmlsZUZvcm0gPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XHJcbmNvbnN0IHByb2ZpbGVJbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtbmFtZS1pbnB1dFwiKTtcclxuY29uc3QgcHJvZmlsZUlucHV0RGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIlxyXG4pO1xyXG5cclxuLy9hdmF0YXIgbW9kYWxcclxuY29uc3QgYXZhdGFyRWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LWF2YXRhci1tb2RhbFwiKTtcclxuY29uc3QgYXZhdGFyTW9kYWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLnByb2ZpbGVfX2F2YXRhcl9lZGl0LWJ1dHRvbiBcIlxyXG4pO1xyXG5jb25zdCBhdmF0YXJGb3JtID0gYXZhdGFyRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbmNvbnN0IGF2YXRhcklucHV0ID0gYXZhdGFyRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLWltYWdlLWxpbmstaW5wdXRcIik7XHJcbmNvbnN0IGF2YXRhclN1Ym1pdEJ0biA9IGF2YXRhckVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiKTtcclxuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xyXG5cclxuLy9kZWxldGUgZm9ybSBlbGVtZW50c1xyXG5jb25zdCBkZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLW1vZGFsXCIpO1xyXG5jb25zdCBkZWxldGVGb3JtID0gZGVsZXRlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuY29uc3QgZGVsZXRlTW9kYWxEZWxldGVCdG4gPSBkZWxldGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19kZWxldGUtYnV0dG9uXCIpO1xyXG5jb25zdCBkZWxldGVNb2RhbENhbmNlbEJ0biA9IGRlbGV0ZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhbmNlbC1idXR0b25cIik7XHJcblxyXG4vL2NhcmRzXHJcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKTtcclxuY29uc3QgY2FyZHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcclxuY29uc3QgY2FyZFByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByZXZpZXctbW9kYWxcIik7XHJcbmNvbnN0IGNhcmRQcmV2aWV3SW1hZ2UgPSBjYXJkUHJldmlldy5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcclxuY29uc3QgY2FyZFByZXZpZXdDYXB0aW9uID0gY2FyZFByZXZpZXcucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2UtY2FwdGlvblwiKTtcclxuXHJcbi8vbmV3IHBvc3QgbW9kYWxcclxuY29uc3QgbmV3UG9zdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgbmV3UG9zdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3N0LW1vZGFsXCIpO1xyXG5jb25zdCBuZXdQb3N0Rm9ybSA9IG5ld1Bvc3RNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG5jb25zdCBuZXdQb3N0Q2xvc2VCdXR0b24gPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCIpO1xyXG5jb25zdCBuZXdQb3N0bGlua0lucHV0ID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtbGluay1pbnB1dFwiKTtcclxuY29uc3QgbmV3UG9zdENhcHRpb24gPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNpbWFnZS1jYXB0aW9uLWlucHV0XCIpO1xyXG5jb25zdCBjbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19jbG9zZS1idXR0b25cIik7XHJcbmNvbnN0IHBvc3RTdWJtaXRCdXR0b24gPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc2F2ZS1idXR0b25cIik7XHJcblxyXG5jb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5cclxuLy9uZXcgaW5zdGFuY2VcclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246ICdlNDA3MTkyMy1mMjYwLTQyNzYtYjcxYS0zNTUyNTE2NDRhZGYnLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG5hcGlcclxuICAuZ2V0QXBwSW5mbygpXHJcbiAgLnRoZW4oKFtkYXRhLCB1c2VyRGF0YV0pID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiSW5pdGlhbCBjYXJkIGRhdGE6XCIsIGRhdGEpO1xyXG4gICAgYXBpLl91c2VySWQgPSB1c2VyRGF0YS5faWQ7XHJcblxyXG4gICAgcHJvZmlsZUF2YXRhci5zcmMgPSB1c2VyRGF0YS5hdmF0YXI7XHJcbiAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHVzZXJEYXRhLm5hbWU7XHJcbiAgICBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB1c2VyRGF0YS5hYm91dDtcclxuXHJcbiAgICBkYXRhLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgcmVuZGVyQ2FyZChpdGVtKTtcclxuICAgIH0pO1xyXG4gIH0pXHJcblxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgfSk7XHJcblxyXG4vL2Z1bmN0aW9uc1xyXG5mdW5jdGlvbiByZW5kZXJDYXJkKGl0ZW0sIG1ldGhvZCA9IFwicHJlcGVuZFwiKSB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChpdGVtKTtcclxuICBjYXJkc0xpc3RbbWV0aG9kXShjYXJkRWxlbWVudCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcclxuICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZUtleSk7XHJcbiAgbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVPdXRzaWRlQ2xpY2spO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDYXJkRWxlbWVudChkYXRhKSB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkVGVtcGxhdGUuY29udGVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICBjb25zdCBjYXJkTmFtZUVsZW1lbnQgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RleHRcIik7XHJcbiAgY29uc3QgY2FyZEltYWdlID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICBjb25zdCBjYXJkTGlrZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XHJcbiAgY29uc3QgY2FyZERlbGV0ZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKTtcclxuXHJcbiAgY2FyZE5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gIGNhcmRJbWFnZS5zcmMgPSBkYXRhLmxpbms7XHJcbiAgY2FyZEltYWdlLmFsdCA9IGRhdGEubmFtZTtcclxuXHJcbiAgaWYgKGRhdGEuaXNMaWtlZCkge1xyXG4gICAgY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2xpa2VkXCIpO1xyXG4gIH1cclxuXHJcbiAgY2FyZERlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICAgIGhhbmRsZURlbGV0ZUNhcmQoY2FyZEVsZW1lbnQsIGRhdGEuX2lkKVxyXG4gICk7XHJcblxyXG4gIGNhcmRMaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICBoYW5kbGVMaWtlKGV2dCwgZGF0YS5faWQpO1xyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVMaWtlKGV2dCwgaWQpIHtcclxuICAgIGxldCBpc0xpa2VkID0gZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJkX19saWtlLWJ1dHRvbl9saWtlZFwiKTtcclxuXHJcbiAgICBhcGlcclxuICAgICAgLmhhbmRsZUxpa2VTdGF0dXMoaWQsIGlzTGlrZWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9saWtlZFwiKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG4gIH1cclxuXHJcbiAgY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBvcGVuTW9kYWwoY2FyZFByZXZpZXcpO1xyXG4gICAgY2FyZFByZXZpZXdJbWFnZS5zcmMgPSBkYXRhLmxpbms7XHJcbiAgICBjYXJkUHJldmlld0ltYWdlLmFsdCA9IGRhdGEubmFtZTtcclxuICAgIGNhcmRQcmV2aWV3Q2FwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcclxuICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZUtleSk7XHJcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVPdXRzaWRlQ2xpY2spO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVTdWJtaXQoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3Qgc3VibWl0QnRuID0gZXZ0LnN1Ym1pdHRlcjtcclxuICBzZXRCdXR0b25UZXh0KHN1Ym1pdEJ0biwgdHJ1ZSwgXCJEZWxldGVcIiwgXCJEZWxldGluZy4uLlwiKTtcclxuXHJcbiAgYXBpXHJcbiAgICAuZGVsZXRlQ2FyZChzZWxlY3RlZENhcmRJZClcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgc2VsZWN0ZWRDYXJkLnJlbW92ZSgpO1xyXG4gICAgICBjbG9zZU1vZGFsKGRlbGV0ZU1vZGFsKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgc2V0QnV0dG9uVGV4dChzdWJtaXRCdG4sIGZhbHNlLCBcIkRlbGV0ZVwiKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5jbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XHJcbiAgY29uc3QgcG9wdXAgPSBidXR0b24uY2xvc2VzdChcIi5tb2RhbFwiKTtcclxuXHJcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBjbG9zZU1vZGFsKHBvcHVwKSk7XHJcbn0pO1xyXG5cclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwcm9maWxlSW5wdXROYW1lLnZhbHVlID0gcHJvZmlsZU5hbWUudGV4dENvbnRlbnQ7XHJcbiAgcHJvZmlsZUlucHV0RGVzY3JpcHRpb24udmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQ7XHJcbiAgcmVzZXRWYWxpZGF0aW9uKFxyXG4gICAgcHJvZmlsZUZvcm0sXHJcbiAgICBbcHJvZmlsZUlucHV0TmFtZSwgcHJvZmlsZUlucHV0RGVzY3JpcHRpb25dLFxyXG4gICAgc2V0dGluZ3NcclxuICApO1xyXG4gIG9wZW5Nb2RhbChlZGl0TW9kYWwpO1xyXG59KTtcclxuXHJcbmRlbGV0ZU1vZGFsQ2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY2xvc2VNb2RhbChkZWxldGVNb2RhbCk7XHJcbn0pO1xyXG5hdmF0YXJNb2RhbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIG9wZW5Nb2RhbChhdmF0YXJFZGl0TW9kYWwpO1xyXG59KTtcclxuXHJcbm5ld1Bvc3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBvcGVuTW9kYWwobmV3UG9zdE1vZGFsKTtcclxufSk7XHJcblxyXG4vL2hhbmRsZXJzXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmQoY2FyZEVsZW1lbnQsIGNhcmRJZCkge1xyXG4gIHNlbGVjdGVkQ2FyZCA9IGNhcmRFbGVtZW50O1xyXG4gIHNlbGVjdGVkQ2FyZElkID0gY2FyZElkO1xyXG4gIG9wZW5Nb2RhbChkZWxldGVNb2RhbCk7XHJcbn1cclxuXHJcbmxldCBzZWxlY3RlZENhcmQsIHNlbGVjdGVkQ2FyZElkO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlRXNjYXBlS2V5KGV2dCkge1xyXG4gIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICBjb25zdCBvcGVuTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGlmIChvcGVuTW9kYWwpIHtcclxuICAgICAgY2xvc2VNb2RhbChvcGVuTW9kYWwpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRWRpdFByb2ZpbGVGb3JtU3VibWl0KGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBjb25zdCBzdWJtaXRCdG4gPSBldnQuc3VibWl0dGVyO1xyXG4gIHNldEJ1dHRvblRleHQoc3VibWl0QnRuLCB0cnVlKTtcclxuXHJcbiAgYXBpXHJcbiAgICAuZWRpdFVzZXJJbmZvKHtcclxuICAgICAgbmFtZTogcHJvZmlsZUlucHV0TmFtZS52YWx1ZSxcclxuICAgICAgYWJvdXQ6IHByb2ZpbGVJbnB1dERlc2NyaXB0aW9uLnZhbHVlLFxyXG4gICAgfSlcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgICBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xyXG4gICAgICBjbG9zZU1vZGFsKGVkaXRNb2RhbCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHNldEJ1dHRvblRleHQoc3VibWl0QnRuLCBmYWxzZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlT3V0c2lkZUNsaWNrKGV2ZW50KSB7XHJcbiAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIikpIHtcclxuICAgIGNsb3NlTW9kYWwoZXZlbnQudGFyZ2V0KTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZU5ld1Bvc3RGb3JtU3VibWl0KGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnN0IHN1Ym1pdEJ0biA9IGV2dC5zdWJtaXR0ZXI7XHJcbiAgc2V0QnV0dG9uVGV4dChzdWJtaXRCdG4sIHRydWUpO1xyXG5cclxuICBjb25zdCBpbnB1dFZhbHVlcyA9IHtcclxuICAgIG5hbWU6IG5ld1Bvc3RDYXB0aW9uLnZhbHVlLFxyXG4gICAgbGluazogbmV3UG9zdGxpbmtJbnB1dC52YWx1ZSxcclxuICB9O1xyXG5cclxuICBhcGlcclxuICAgIC5hZGROZXdDYXJkKGlucHV0VmFsdWVzKVxyXG4gICAgLnRoZW4oKGNhcmREYXRhKSA9PiB7XHJcbiAgICAgIHJlbmRlckNhcmQoY2FyZERhdGEpO1xyXG4gICAgICBldnQudGFyZ2V0LnJlc2V0KCk7XHJcbiAgICAgIGNsb3NlTW9kYWwobmV3UG9zdE1vZGFsKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgc2V0QnV0dG9uVGV4dChzdWJtaXRCdG4sIGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJTdWJtaXQoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3Qgc3VibWl0QnRuID0gZXZ0LnN1Ym1pdHRlcjtcclxuICBzZXRCdXR0b25UZXh0KHN1Ym1pdEJ0biwgdHJ1ZSk7XHJcblxyXG4gIGFwaVxyXG4gICAgLnVwZGF0ZVByb2ZpbGVQaWN0dXJlKHsgYXZhdGFyOiBhdmF0YXJJbnB1dC52YWx1ZSB9KVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgcHJvZmlsZUF2YXRhci5zcmMgPSBkYXRhLmF2YXRhcjtcclxuICAgICAgY2xvc2VNb2RhbChhdmF0YXJFZGl0TW9kYWwpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBzZXRCdXR0b25UZXh0KHN1Ym1pdEJ0biwgZmFsc2UpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbnByb2ZpbGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlRWRpdFByb2ZpbGVGb3JtU3VibWl0KTtcclxubmV3UG9zdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVOZXdQb3N0Rm9ybVN1Ym1pdCk7XHJcbmF2YXRhckZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVBdmF0YXJTdWJtaXQpO1xyXG5kZWxldGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlRGVsZXRlU3VibWl0KTtcclxuXHJcbmVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBnZXRBcHBJbmZvKCkge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldEluaXRpYWxDYXJkcygpLCB0aGlzLmdldFVzZXJJbmZvKCldKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3IgJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgZWRpdFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGFkZE5ld0NhcmQoeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUxpa2VTdGF0dXMoaWQsIGlzTGlrZWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBpc0xpa2VkID8gXCJERUxFVEVcIiA6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlUHJvZmlsZVBpY3R1cmUoeyBhdmF0YXIgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXIsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsic2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImlucHV0RXJyb3JUeXBlQ2xhc3MiLCJoaWRlSW5wdXRFcnJvciIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiY29uZmlnIiwiZXJyb3JFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImlkIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidGV4dENvbnRlbnQiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsImhhc0ludmFsaWRJbnB1dCIsImRpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsImFkZCIsImVuYWJsZVZhbGlkYXRpb24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJBcnJheSIsImZyb20iLCJhZGRFdmVudExpc3RlbmVyIiwiY2hlY2tJbnB1dFZhbGlkaXR5Iiwic2hvd0lucHV0RXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJlcnJvck1zZ0VsZW1lbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInNldEJ1dHRvblRleHQiLCJidG4iLCJpc0xvYWRpbmciLCJkZWZhdWx0VGV4dCIsImxvYWRpbmdUZXh0IiwicHJvZmlsZUVkaXRCdXR0b24iLCJlZGl0TW9kYWwiLCJwcm9maWxlRm9ybSIsInByb2ZpbGVOYW1lIiwicHJvZmlsZURlc2NyaXB0aW9uIiwicHJvZmlsZUlucHV0TmFtZSIsInByb2ZpbGVJbnB1dERlc2NyaXB0aW9uIiwiYXZhdGFyRWRpdE1vZGFsIiwiYXZhdGFyTW9kYWxCdXR0b24iLCJhdmF0YXJGb3JtIiwiYXZhdGFySW5wdXQiLCJwcm9maWxlQXZhdGFyIiwiZGVsZXRlTW9kYWwiLCJkZWxldGVGb3JtIiwiZGVsZXRlTW9kYWxDYW5jZWxCdG4iLCJjYXJkVGVtcGxhdGUiLCJjYXJkc0xpc3QiLCJjYXJkUHJldmlldyIsImNhcmRQcmV2aWV3SW1hZ2UiLCJjYXJkUHJldmlld0NhcHRpb24iLCJuZXdQb3N0QnV0dG9uIiwibmV3UG9zdE1vZGFsIiwibmV3UG9zdEZvcm0iLCJuZXdQb3N0bGlua0lucHV0IiwibmV3UG9zdENhcHRpb24iLCJjbG9zZUJ1dHRvbnMiLCJhcGkiLCJjb25zdHJ1Y3RvciIsImJhc2VVcmwiLCJoZWFkZXJzIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJnZXRBcHBJbmZvIiwiUHJvbWlzZSIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJJbmZvIiwiZmV0Y2giLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJyZWplY3QiLCJzdGF0dXMiLCJlZGl0VXNlckluZm8iLCJuYW1lIiwiYWJvdXQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFkZE5ld0NhcmQiLCJsaW5rIiwiZGVsZXRlQ2FyZCIsImhhbmRsZUxpa2VTdGF0dXMiLCJpc0xpa2VkIiwidXBkYXRlUHJvZmlsZVBpY3R1cmUiLCJhdmF0YXIiLCJhdXRob3JpemF0aW9uIiwicmVuZGVyQ2FyZCIsIml0ZW0iLCJjYXJkRWxlbWVudCIsImRhdGEiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZE5hbWVFbGVtZW50IiwiY2FyZEltYWdlIiwiY2FyZExpa2VCdXR0b24iLCJjYXJkRGVsZXRlQnV0dG9uIiwic3JjIiwiYWx0IiwiY2FyZElkIiwic2VsZWN0ZWRDYXJkIiwic2VsZWN0ZWRDYXJkSWQiLCJvcGVuTW9kYWwiLCJoYW5kbGVEZWxldGVDYXJkIiwiX2lkIiwiZXZ0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJ0b2dnbGUiLCJjYXRjaCIsImNvbnNvbGUiLCJlcnJvciIsImhhbmRsZUxpa2UiLCJnZXRDYXJkRWxlbWVudCIsImNsb3NlTW9kYWwiLCJtb2RhbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVFc2NhcGVLZXkiLCJoYW5kbGVPdXRzaWRlQ2xpY2siLCJrZXkiLCJldmVudCIsInVzZXJEYXRhIiwibG9nIiwiX3VzZXJJZCIsImVyciIsImJ1dHRvbiIsInBvcHVwIiwiY2xvc2VzdCIsInJlc2V0VmFsaWRhdGlvbiIsInZhbHVlIiwiaW5wdXQiLCJwcmV2ZW50RGVmYXVsdCIsInN1Ym1pdEJ0biIsInN1Ym1pdHRlciIsImZpbmFsbHkiLCJpbnB1dFZhbHVlcyIsImNhcmREYXRhIiwicmVzZXQiXSwic291cmNlUm9vdCI6IiJ9